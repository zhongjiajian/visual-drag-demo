(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6b6e1dce"],{"107c":function(t,e,n){var a=n("d039");t.exports=a((function(){var t=RegExp("(?<a>b)","string".charAt(5));return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},1276:function(t,e,n){"use strict";var a=n("d784"),o=n("44e7"),i=n("825a"),r=n("1d80"),l=n("4840"),s=n("8aa5"),c=n("50c4"),u=n("14c3"),d=n("9263"),p=n("9f7f"),m=n("d039"),h=p.UNSUPPORTED_Y,f=[].push,v=Math.min,b=4294967295,g=!m((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));a("split",(function(t,e,n){var a;return a="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var a=String(r(this)),i=void 0===n?b:n>>>0;if(0===i)return[];if(void 0===t)return[a];if(!o(t))return e.call(a,t,i);var l,s,c,u=[],p=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),m=0,h=new RegExp(t.source,p+"g");while(l=d.call(h,a)){if(s=h.lastIndex,s>m&&(u.push(a.slice(m,l.index)),l.length>1&&l.index<a.length&&f.apply(u,l.slice(1)),c=l[0].length,m=s,u.length>=i))break;h.lastIndex===l.index&&h.lastIndex++}return m===a.length?!c&&h.test("")||u.push(""):u.push(a.slice(m)),u.length>i?u.slice(0,i):u}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var o=r(this),i=void 0==e?void 0:e[t];return void 0!==i?i.call(e,o,n):a.call(String(o),e,n)},function(t,o){var r=n(a,this,t,o,a!==e);if(r.done)return r.value;var d=i(this),p=String(t),m=l(d,RegExp),f=d.unicode,g=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(h?"g":"y"),y=new m(h?"^(?:"+d.source+")":d,g),x=void 0===o?b:o>>>0;if(0===x)return[];if(0===p.length)return null===u(y,p)?[p]:[];var w=0,S=0,C=[];while(S<p.length){y.lastIndex=h?0:S;var O,k=u(y,h?p.slice(S):p);if(null===k||(O=v(c(y.lastIndex+(h?S:0)),p.length))===w)S=s(p,S,f);else{if(C.push(p.slice(w,S)),C.length===x)return C;for(var D=1;D<=k.length-1;D++)if(C.push(k[D]),C.length===x)return C;S=w=O}}return C.push(p.slice(w)),C}]}),!g,h)},"14c3":function(t,e,n){var a=n("c6b6"),o=n("9263");t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var i=n.call(t,e);if("object"!==typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==a(t))throw TypeError("RegExp#exec called on incompatible receiver");return o.call(t,e)}},"1ac8":function(t,e,n){"use strict";n("8d10")},"21bb":function(t,e,n){"use strict";n("2dad")},"25f0":function(t,e,n){"use strict";var a=n("6eeb"),o=n("825a"),i=n("d039"),r=n("ad6d"),l="toString",s=RegExp.prototype,c=s[l],u=i((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),d=c.name!=l;(u||d)&&a(RegExp.prototype,l,(function(){var t=o(this),e=String(t.source),n=t.flags,a=String(void 0===n&&t instanceof RegExp&&!("flags"in s)?r.call(t):n);return"/"+e+"/"+a}),{unsafe:!0})},2922:function(t,e,n){"use strict";n("bcbb")},"2c7d":function(t,e,n){"use strict";n.d(e,"a",(function(){return O})),n.d(e,"b",(function(){return _}));var a,o,i=n("5530"),r=n("ade3"),l=n("4360"),s=n("986e"),c=17,u=86,d=67,p=88,m=89,h=90,f=71,v=66,b=76,g=85,y=83,x=80,w=68,S=46,C=69,O=[66,67,68,69,71,76,80,83,85,86,88,89,90],k=(a={},Object(r["a"])(a,u,E),Object(r["a"])(a,m,N),Object(r["a"])(a,h,L),Object(r["a"])(a,y,P),Object(r["a"])(a,x,V),Object(r["a"])(a,C,q),a),D=Object(i["a"])(Object(i["a"])({},k),{},Object(r["a"])({},g,Y)),j=Object(i["a"])(Object(i["a"])({},k),{},(o={},Object(r["a"])(o,d,M),Object(r["a"])(o,p,I),Object(r["a"])(o,f,R),Object(r["a"])(o,v,A),Object(r["a"])(o,w,U),Object(r["a"])(o,S,U),Object(r["a"])(o,b,T),o)),$=!1;function _(){window.onkeydown=function(t){var e=l["a"].state.curComponent;t.keyCode==c?$=!0:t.keyCode==S&&e?(l["a"].commit("deleteComponent"),l["a"].commit("recordSnapshot")):$&&(e&&e.isLock?e&&e.isLock&&(t.preventDefault(),D[t.keyCode]&&D[t.keyCode]()):(t.preventDefault(),j[t.keyCode]&&j[t.keyCode]()))},window.onkeyup=function(t){t.keyCode==c&&($=!1)}}function M(){l["a"].commit("copy")}function E(){l["a"].commit("paste"),l["a"].commit("recordSnapshot")}function I(){l["a"].commit("cut")}function N(){l["a"].commit("redo")}function L(){l["a"].commit("undo")}function R(){l["a"].state.areaData.components.length&&(l["a"].commit("compose"),l["a"].commit("recordSnapshot"))}function A(){var t=l["a"].state.curComponent;t&&!t.isLock&&"Group"==t.component&&(l["a"].commit("decompose"),l["a"].commit("recordSnapshot"))}function P(){s["a"].$emit("save")}function V(){s["a"].$emit("preview")}function U(){l["a"].state.curComponent&&(l["a"].commit("deleteComponent"),l["a"].commit("recordSnapshot"))}function q(){s["a"].$emit("clearCanvas")}function T(){l["a"].commit("lock")}function Y(){l["a"].commit("unlock")}},"2dad":function(t,e,n){},"2eee":function(t,e,n){"use strict";n("a3f5")},"356a":function(t,e,n){"use strict";n("3570")},3570:function(t,e,n){},"399f":function(t,e,n){"use strict";n("73bc")},4411:function(t,e,n){},"4b78":function(t,e,n){},"597b":function(t,e,n){},7088:function(t,e,n){"use strict";var a,o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"user"},[t.isLogin?n("el-dropdown",{on:{command:t.userHandle}},[n("i",{staticClass:"el-icon-user avatar"}),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{command:"logout"}},[t._v("退出登录")])],1)],1):n("span",{on:{click:t.showLoginDialog}},[t._v("登录")]),n("el-dialog",{attrs:{title:"登录",visible:t.loginDialogVisible,width:"500px"},on:{"update:visible":function(e){t.loginDialogVisible=e}}},[n("div",{staticClass:"form-item"},[n("span",{staticClass:"label"},[t._v("用户名 *")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.loginReqData.username,expression:"loginReqData.username"}],domProps:{value:t.loginReqData.username},on:{input:function(e){e.target.composing||t.$set(t.loginReqData,"username",e.target.value)}}})]),n("div",{staticClass:"form-item"},[n("span",{staticClass:"label"},[t._v("密码 *")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.loginReqData.password,expression:"loginReqData.password"}],domProps:{value:t.loginReqData.password},on:{input:function(e){e.target.composing||t.$set(t.loginReqData,"password",e.target.value)}}})]),n("div",{staticClass:"form-item"},[n("span",{staticClass:"label"},[t._v("验证码 *")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.loginReqData.code,expression:"loginReqData.code"}],domProps:{value:t.loginReqData.code},on:{input:function(e){e.target.composing||t.$set(t.loginReqData,"code",e.target.value)}}}),n("span",{staticClass:"captcha",domProps:{innerHTML:t._s(t.svg)},on:{click:t.getCaptcha}})]),n("span",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{loading:t.logining},on:{click:t.login}},[t._v("确 定")])],1)])],1)},i=[],r=n("1da1"),l=(n("498a"),n("96cf"),n("2f62")),s=new Uint8Array(16);function c(){if(!a&&(a="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),!a))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return a(s)}var u=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function d(t){return"string"===typeof t&&u.test(t)}for(var p=d,m=[],h=0;h<256;++h)m.push((h+256).toString(16).substr(1));function f(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(m[t[e+0]]+m[t[e+1]]+m[t[e+2]]+m[t[e+3]]+"-"+m[t[e+4]]+m[t[e+5]]+"-"+m[t[e+6]]+m[t[e+7]]+"-"+m[t[e+8]]+m[t[e+9]]+"-"+m[t[e+10]]+m[t[e+11]]+m[t[e+12]]+m[t[e+13]]+m[t[e+14]]+m[t[e+15]]).toLowerCase();if(!p(n))throw TypeError("Stringified UUID is invalid");return n}var v=f;function b(t,e,n){t=t||{};var a=t.random||(t.rng||c)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,e){n=n||0;for(var o=0;o<16;++o)e[n+o]=a[o];return e}return v(a)}var g=b,y=n("eae4"),x=n("365c"),w={computed:Object(l["b"])(["isLogin"]),data:function(){return{logining:!1,loginDialogVisible:!1,loginReqData:{username:"dayiLowCodeAdmin",password:"dayi@2019!",code:""},svg:"图形验证码"}},created:function(){this.$store.commit("initSid"),this.$store.commit("initUserInfo")},mounted:function(){},methods:{showLoginDialog:function(){this.loginDialogVisible=!0,this.getCaptcha()},getCaptcha:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.$store.state.sid,n||(n=g(),t.$store.commit("setSid",n),localStorage.setItem("sid",n)),e.next=4,Object(x["c"])(n);case 4:a=e.sent,o=a.data,200===o.code&&(t.svg=o.data);case 7:case"end":return e.stop()}}),e)})))()},login:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.loginReqData.username=t.loginReqData.username.trim(),t.loginReqData.password=t.loginReqData.password.trim(),t.loginReqData.code=t.loginReqData.code.trim(),t.loginReqData.username){e.next=5;break}return e.abrupt("return",Object(y["a"])("请输入用户名"));case 5:if(t.loginReqData.password){e.next=7;break}return e.abrupt("return",Object(y["a"])("请输入密码"));case 7:if(t.loginReqData.code){e.next=9;break}return e.abrupt("return",Object(y["a"])("请输入验证码"));case 9:return t.logining=!0,e.next=12,Object(x["f"])({username:t.loginReqData.username,password:t.loginReqData.password,code:t.loginReqData.code,sid:t.$store.state.sid});case 12:if(n=e.sent,a=n.data,t.logining=!1,200===a.code){e.next=17;break}return e.abrupt("return",Object(y["a"])(a.msg));case 17:t.loginDialogVisible=!1,t.$store.commit("login",a);case 19:case"end":return e.stop()}}),e)})))()},userHandle:function(t){this[t]&&this[t]()},logout:function(){this.$store.commit("logout",{})}}},S=w,C=(n("d0e4"),n("2877")),O=Object(C["a"])(S,o,i,!1,null,"1c859d73",null);e["a"]=O.exports},7156:function(t,e,n){var a=n("861d"),o=n("d2bb");t.exports=function(t,e,n){var i,r;return o&&"function"==typeof(i=e.constructor)&&i!==n&&a(r=i.prototype)&&r!==n.prototype&&o(t,r),t}},"73bc":function(t,e,n){},"856c":function(t,e,n){"use strict";n("4b78")},"8aa5":function(t,e,n){"use strict";var a=n("6547").charAt;t.exports=function(t,e,n){return e+(n?a(t,e).length:1)}},"8d10":function(t,e,n){},"912e":function(t,e,n){"use strict";n("a13c")},9263:function(t,e,n){"use strict";var a=n("ad6d"),o=n("9f7f"),i=n("5692"),r=n("7c73"),l=n("69f3").get,s=n("fce3"),c=n("107c"),u=RegExp.prototype.exec,d=i("native-string-replace",String.prototype.replace),p=u,m=function(){var t=/a/,e=/b*/g;return u.call(t,"a"),u.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),h=o.UNSUPPORTED_Y||o.BROKEN_CARET,f=void 0!==/()??/.exec("")[1],v=m||f||h||s||c;v&&(p=function(t){var e,n,o,i,s,c,v,b=this,g=l(b),y=g.raw;if(y)return y.lastIndex=b.lastIndex,e=p.call(y,t),b.lastIndex=y.lastIndex,e;var x=g.groups,w=h&&b.sticky,S=a.call(b),C=b.source,O=0,k=t;if(w&&(S=S.replace("y",""),-1===S.indexOf("g")&&(S+="g"),k=String(t).slice(b.lastIndex),b.lastIndex>0&&(!b.multiline||b.multiline&&"\n"!==t[b.lastIndex-1])&&(C="(?: "+C+")",k=" "+k,O++),n=new RegExp("^(?:"+C+")",S)),f&&(n=new RegExp("^"+C+"$(?!\\s)",S)),m&&(o=b.lastIndex),i=u.call(w?n:b,k),w?i?(i.input=i.input.slice(O),i[0]=i[0].slice(O),i.index=b.lastIndex,b.lastIndex+=i[0].length):b.lastIndex=0:m&&i&&(b.lastIndex=b.global?i.index+i[0].length:o),f&&i&&i.length>1&&d.call(i[0],n,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(i[s]=void 0)})),i&&x)for(i.groups=c=r(null),s=0;s<x.length;s++)v=x[s],c[v[0]]=i[v[1]];return i}),t.exports=p},"95ea":function(t,e,n){},9627:function(t,e,n){"use strict";n("fcf2")},"998a":function(t,e,n){"use strict";n("597b")},"9f7f":function(t,e,n){var a=n("d039"),o=function(t,e){return RegExp(t,e)};e.UNSUPPORTED_Y=a((function(){var t=o("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=a((function(){var t=o("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},a13c:function(t,e,n){},a3f5:function(t,e,n){},a9e3:function(t,e,n){"use strict";var a=n("83ab"),o=n("da84"),i=n("94ca"),r=n("6eeb"),l=n("5135"),s=n("c6b6"),c=n("7156"),u=n("c04e"),d=n("d039"),p=n("7c73"),m=n("241c").f,h=n("06cf").f,f=n("9bf2").f,v=n("58a8").trim,b="Number",g=o[b],y=g.prototype,x=s(p(y))==b,w=function(t){var e,n,a,o,i,r,l,s,c=u(t,!1);if("string"==typeof c&&c.length>2)if(c=v(c),e=c.charCodeAt(0),43===e||45===e){if(n=c.charCodeAt(2),88===n||120===n)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:a=2,o=49;break;case 79:case 111:a=8,o=55;break;default:return+c}for(i=c.slice(2),r=i.length,l=0;l<r;l++)if(s=i.charCodeAt(l),s<48||s>o)return NaN;return parseInt(i,a)}return+c};if(i(b,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var S,C=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof C&&(x?d((function(){y.valueOf.call(n)})):s(n)!=b)?c(new g(w(e)),n,C):w(e)},O=a?m(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),k=0;O.length>k;k++)l(g,S=O[k])&&!l(C,S)&&f(C,S,h(g,S));C.prototype=y,y.constructor=C,r(o,b,C)}},ac1f:function(t,e,n){"use strict";var a=n("23e7"),o=n("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},ad6d:function(t,e,n){"use strict";var a=n("825a");t.exports=function(){var t=a(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},b4d8:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return i}));n("d3b7"),n("25f0");var a={redirect:function(t){t&&(window.location.href=t)},alert:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){t&&alert(t)}))},o={methods:a},i=[{key:"redirect",label:"跳转事件",event:a.redirect,param:""},{key:"alert",label:"alert 事件",event:a.alert,param:""}]},b602:function(t,e,n){"use strict";n("95ea")},b67e:function(t,e,n){"use strict";n("4411")},bb51:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("Toolbar",{attrs:{pageInfo:t.pageInfo}}),n("main",[n("section",{staticClass:"left"},[n("ComponentList")],1),n("section",{staticClass:"center"},[n("div",{staticClass:"content",on:{drop:t.handleDrop,dragover:t.handleDragOver,mousedown:t.handleMouseDown,mouseup:t.deselectCurComponent}},[n("Editor")],1)]),n("section",{staticClass:"right"},[n("el-tabs",{model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[n("el-tab-pane",{attrs:{label:"属性",name:"attr"}},[t.curComponent?n("AttrList"):n("p",{staticClass:"placeholder"},[t._v("请选择组件")])],1),n("el-tab-pane",{attrs:{label:"动画",name:"animation"}},[t.curComponent?n("AnimationList"):n("p",{staticClass:"placeholder"},[t._v("请选择组件")])],1),n("el-tab-pane",{attrs:{label:"事件",name:"events"}},[t.curComponent?n("EventList"):n("p",{staticClass:"placeholder"},[t._v("请选择组件")])],1)],1)],1)])],1)},o=[],i=n("1da1"),r=(n("96cf"),n("159b"),n("b0c0"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"editor",class:{edit:t.isEdit},style:"1"===t.canvasStyleData.layoutMode?{width:t.canvasStyleData.width*t.canvasStyleData.scale/100+"px",height:t.canvasStyleData.height*t.canvasStyleData.scale/100+"px"}:{width:"100%",height:"9999px"},attrs:{id:"editor"},on:{contextmenu:t.handleContextMenu,mousedown:t.handleMouseDown}},[n("div",{staticClass:"scale-wrap",style:"1"===t.canvasStyleData.layoutMode?{width:t.canvasStyleData.width+"px",height:t.canvasStyleData.height+"px",transform:"scale3d("+t.canvasStyleData.scale/100+","+t.canvasStyleData.scale/100+",1)"}:{width:"100%",height:"100%"}},[n("Grid"),t._l(t.componentData,(function(e,a){return n("Shape",{key:e.id,class:{lock:e.isLock},style:t.getShapeStyle(e.style,e.expandStyle),attrs:{defaultStyle:e.style,active:e.id===(t.curComponent||{}).id,element:e,index:a}},["v-text"!=e.component?n(e.component,{tag:"component",staticClass:"component",style:t.getComponentStyle(e.style),attrs:{propValue:e.propValue,element:e,id:"component"+e.id}}):n(e.component,{tag:"component",staticClass:"component",style:t.getComponentStyle(e.style),attrs:{propValue:e.propValue,element:e,id:"component"+e.id},on:{input:t.handleInput}})],1)})),n("ContextMenu"),n("MarkLine"),n("Area",{directives:[{name:"show",rawName:"v-show",value:t.isShowArea,expression:"isShowArea"}],attrs:{start:t.start,width:t.width,height:t.height}})],2)])}),l=[],s=n("5530"),c=n("53ca"),u=(n("caad"),n("2532"),n("498a"),n("ac1f"),n("1276"),n("2f62")),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"shape",class:{active:t.active},on:{click:t.selectCurComponent,mousedown:t.handleMouseDownOnShape}},[n("span",{directives:[{name:"show",rawName:"v-show",value:t.isActive(),expression:"isActive()"}],staticClass:"iconfont icon-xiangyouxuanzhuan",on:{mousedown:t.handleRotate}}),n("span",{directives:[{name:"show",rawName:"v-show",value:t.element.isLock,expression:"element.isLock"}],staticClass:"iconfont icon-suo"}),t.curComponent&&!t.curComponent.expandStyle.trim()?t._l(t.isActive()?t.pointList:[],(function(e){return n("div",{key:e,staticClass:"shape-point",style:t.getPointStyle(e),on:{mousedown:function(n){return t.handleMouseDownOnPoint(e,n)}}})})):t._e(),t._t("default")],2)},p=[],m=(n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),n("06c5"));function h(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Object(m["a"])(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var a=0,o=function(){};return{s:o,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return r=t.done,t},e:function(t){l=!0,i=t},f:function(){try{r||null==n["return"]||n["return"]()}finally{if(l)throw i}}}}n("a9e3");var f=n("986e"),v=n("c5c4"),b=n("a2ba"),g={lt:y,t:C,rt:x,r:O,rb:w,b:k,lb:S,l:D};function y(t,e,n,a,o){var i=o.symmetricPoint,r=Object(b["c"])(e,i),l=Object(b["a"])(e,r,-t.rotate),s=Object(b["a"])(i,r,-t.rotate),c=s.x-l.x,u=s.y-l.y;if(a){c/u>n?(l.x+=Math.abs(c-u*n),c=u*n):(l.y+=Math.abs(u-c/n),u=c/n);var d=Object(b["a"])(l,r,t.rotate);r=Object(b["c"])(d,i),l=Object(b["a"])(d,r,-t.rotate),s=Object(b["a"])(i,r,-t.rotate),c=s.x-l.x,u=s.y-l.y}c>0&&u>0&&(t.width=Math.round(c),t.height=Math.round(u),t.left=Math.round(l.x),t.top=Math.round(l.y))}function x(t,e,n,a,o){var i=o.symmetricPoint,r=Object(b["c"])(e,i),l=Object(b["a"])(e,r,-t.rotate),s=Object(b["a"])(i,r,-t.rotate),c=l.x-s.x,u=s.y-l.y;if(a){c/u>n?(l.x-=Math.abs(c-u*n),c=u*n):(l.y+=Math.abs(u-c/n),u=c/n);var d=Object(b["a"])(l,r,t.rotate);r=Object(b["c"])(d,i),l=Object(b["a"])(d,r,-t.rotate),s=Object(b["a"])(i,r,-t.rotate),c=l.x-s.x,u=s.y-l.y}c>0&&u>0&&(t.width=Math.round(c),t.height=Math.round(u),t.left=Math.round(s.x),t.top=Math.round(l.y))}function w(t,e,n,a,o){var i=o.symmetricPoint,r=Object(b["c"])(e,i),l=Object(b["a"])(i,r,-t.rotate),s=Object(b["a"])(e,r,-t.rotate),c=s.x-l.x,u=s.y-l.y;if(a){c/u>n?(s.x-=Math.abs(c-u*n),c=u*n):(s.y-=Math.abs(u-c/n),u=c/n);var d=Object(b["a"])(s,r,t.rotate);r=Object(b["c"])(d,i),l=Object(b["a"])(i,r,-t.rotate),s=Object(b["a"])(d,r,-t.rotate),c=s.x-l.x,u=s.y-l.y}c>0&&u>0&&(t.width=Math.round(c),t.height=Math.round(u),t.left=Math.round(l.x),t.top=Math.round(l.y))}function S(t,e,n,a,o){var i=o.symmetricPoint,r=Object(b["c"])(e,i),l=Object(b["a"])(i,r,-t.rotate),s=Object(b["a"])(e,r,-t.rotate),c=l.x-s.x,u=s.y-l.y;if(a){c/u>n?(s.x+=Math.abs(c-u*n),c=u*n):(s.y-=Math.abs(u-c/n),u=c/n);var d=Object(b["a"])(s,r,t.rotate);r=Object(b["c"])(d,i),l=Object(b["a"])(i,r,-t.rotate),s=Object(b["a"])(d,r,-t.rotate),c=l.x-s.x,u=s.y-l.y}c>0&&u>0&&(t.width=Math.round(c),t.height=Math.round(u),t.left=Math.round(s.x),t.top=Math.round(l.y))}function C(t,e,n,a,o){var i=o.symmetricPoint,r=o.curPoint,l=Object(b["a"])(e,r,-t.rotate),s=Object(b["a"])({x:r.x,y:l.y},r,t.rotate),c=Math.sqrt(Math.pow(s.x-i.x,2)+Math.pow(s.y-i.y,2)),u={x:s.x-(s.x-i.x)/2,y:s.y+(i.y-s.y)/2},d=t.width;a&&(d=c*n),t.width=d,t.height=Math.round(c),t.top=Math.round(u.y-c/2),t.left=Math.round(u.x-t.width/2)}function O(t,e,n,a,o){var i=o.symmetricPoint,r=o.curPoint,l=Object(b["a"])(e,r,-t.rotate),s=Object(b["a"])({x:l.x,y:r.y},r,t.rotate),c=Math.sqrt(Math.pow(s.x-i.x,2)+Math.pow(s.y-i.y,2)),u={x:s.x-(s.x-i.x)/2,y:s.y+(i.y-s.y)/2},d=t.height;a&&(d=c/n),t.height=d,t.width=Math.round(c),t.top=Math.round(u.y-t.height/2),t.left=Math.round(u.x-c/2)}function k(t,e,n,a,o){var i=o.symmetricPoint,r=o.curPoint,l=Object(b["a"])(e,r,-t.rotate),s=Object(b["a"])({x:r.x,y:l.y},r,t.rotate),c=Math.sqrt(Math.pow(s.x-i.x,2)+Math.pow(s.y-i.y,2)),u={x:s.x-(s.x-i.x)/2,y:s.y+(i.y-s.y)/2},d=t.width;a&&(d=c*n),t.width=d,t.height=Math.round(c),t.top=Math.round(u.y-c/2),t.left=Math.round(u.x-t.width/2)}function D(t,e,n,a,o){var i=o.symmetricPoint,r=o.curPoint,l=Object(b["a"])(e,r,-t.rotate),s=Object(b["a"])({x:l.x,y:r.y},r,t.rotate),c=Math.sqrt(Math.pow(s.x-i.x,2)+Math.pow(s.y-i.y,2)),u={x:s.x-(s.x-i.x)/2,y:s.y+(i.y-s.y)/2},d=t.height;a&&(d=c/n),t.height=d,t.width=Math.round(c),t.top=Math.round(u.y-t.height/2),t.left=Math.round(u.x-c/2)}function j(t,e,n,a,o,i){g[t](e,n,a,o,i)}var $={props:{active:{type:Boolean,default:!1},element:{require:!0,type:Object},defaultStyle:{require:!0,type:Object},index:{require:!0,type:[Number,String]}},data:function(){return{pointList:["lt","t","rt","r","rb","b","lb","l"],initialAngle:{lt:0,t:45,rt:90,r:135,rb:180,b:225,lb:270,l:315},angleToCursor:[{start:338,end:23,cursor:"nw"},{start:23,end:68,cursor:"n"},{start:68,end:113,cursor:"ne"},{start:113,end:158,cursor:"e"},{start:158,end:203,cursor:"se"},{start:203,end:248,cursor:"s"},{start:248,end:293,cursor:"sw"},{start:293,end:338,cursor:"w"}],cursors:{}}},computed:Object(u["b"])(["curComponent","editor"]),mounted:function(){var t=this;this.curComponent&&(this.cursors=this.getCursor()),f["a"].$on("runAnimation",(function(){t.element==t.curComponent&&Object(v["a"])(t.$el,t.curComponent.animations)}))},methods:{isActive:function(){return this.active&&!this.element.isLock},handleRotate:function(t){var e=this;this.$store.commit("setClickComponentStatus",!0),t.preventDefault(),t.stopPropagation();var n=Object(s["a"])({},this.defaultStyle),a=t.clientY,o=t.clientX,i=n.rotate,r=this.$el.getBoundingClientRect(),l=r.left+r.width/2,c=r.top+r.height/2,u=Math.atan2(a-c,o-l)/(Math.PI/180),d=!1,p=function(t){d=!0;var a=t.clientX,o=t.clientY,r=Math.atan2(o-c,a-l)/(Math.PI/180);n.rotate=i+r-u,e.$store.commit("setShapeStyle",n)},m=function t(){d&&e.$store.commit("recordSnapshot"),document.removeEventListener("mousemove",p),document.removeEventListener("mouseup",t),e.cursors=e.getCursor()};document.addEventListener("mousemove",p),document.addEventListener("mouseup",m)},getPointStyle:function(t){var e=this.defaultStyle,n=e.width,a=e.height,o=/t/.test(t),i=/b/.test(t),r=/l/.test(t),l=/r/.test(t),s=0,c=0;2===t.length?(s=r?0:n,c=o?0:a):((o||i)&&(s=n/2,c=o?0:a),(r||l)&&(s=r?0:n,c=Math.floor(a/2)));var u={marginLeft:"-4px",marginTop:"-4px",left:"".concat(s,"px"),top:"".concat(c,"px"),cursor:this.cursors[t]};return u},getCursor:function(){var t=this.angleToCursor,e=this.initialAngle,n=this.pointList,a=this.curComponent,o=Object(b["d"])(a.style.rotate),i={},r=-1;return n.forEach((function(n){var a=Object(b["d"])(e[n]+o),l=t.length;while(1){r=(r+1)%l;var s=t[r];if(a<23||a>=338)return void(i[n]="nw-resize");if(s.start<=a&&a<s.end)return void(i[n]=s.cursor+"-resize")}})),i},handleMouseDownOnShape:function(t){var e=this;if(this.$store.commit("setClickComponentStatus",!0),"v-text"!=this.element.component&&"rect-shape"!=this.element.component&&t.preventDefault(),t.stopPropagation(),this.$store.commit("setCurComponent",{component:this.element,index:this.index}),!this.element.isLock){this.cursors=this.getCursor();var n=Object(s["a"])({},this.defaultStyle),a=t.clientY,o=t.clientX,i=Number(n.top),r=Number(n.left),l=!1,c=function(t){l=!0;var s=t.clientX,c=t.clientY;n.top=c-a+i,n.left=s-o+r,e.$store.commit("setShapeStyle",n),e.$nextTick((function(){f["a"].$emit("move",c-a>0,s-o>0)}))},u=function t(){l&&e.$store.commit("recordSnapshot"),f["a"].$emit("unmove"),document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",t)};document.addEventListener("mousemove",c),document.addEventListener("mouseup",u)}},selectCurComponent:function(t){t.stopPropagation(),t.preventDefault(),this.$store.commit("hideContextMenu")},handleMouseDownOnPoint:function(t,e){var n=this;this.$store.commit("setClickComponentStatus",!0),e.stopPropagation(),e.preventDefault();var a=Object(s["a"])({},this.defaultStyle),o=a.width/a.height,i={x:a.left+a.width/2,y:a.top+a.height/2},r=this.editor.getBoundingClientRect(),l=e.target.getBoundingClientRect(),c={x:Math.round(l.left-r.left+e.target.offsetWidth/2),y:Math.round(l.top-r.top+e.target.offsetHeight/2)},u={x:i.x-(c.x-i.x),y:i.y-(c.y-i.y)},d=!1,p=!0,m=this.isNeedLockProportion(),h=function(e){if(p)p=!1;else{d=!0;var l={x:e.clientX-r.left,y:e.clientY-r.top};j(t,a,l,o,m,{center:i,curPoint:c,symmetricPoint:u}),n.$store.commit("setShapeStyle",a)}},f=function t(){document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",t),d&&n.$store.commit("recordSnapshot")};document.addEventListener("mousemove",h),document.addEventListener("mouseup",f)},isNeedLockProportion:function(){if("Group"!=this.element.component)return!1;var t,e=[0,90,180,360],n=h(this.element.propValue);try{for(n.s();!(t=n.n()).done;){var a=t.value;if(!e.includes(Object(b["d"])(parseInt(a.style.rotate))))return!0}}catch(o){n.e(o)}finally{n.f()}return!1}}},_=$,M=(n("356a"),n("2877")),E=Object(M["a"])(_,d,p,!1,null,"db2fb6ae",null),I=E.exports,N=n("a7f7"),L=n("fa7d"),R=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.menuShow,expression:"menuShow"}],staticClass:"contextmenu",style:{top:t.menuTop+"px",left:t.menuLeft+"px"}},[n("ul",{on:{mouseup:t.handleMouseUp}},[t.curComponent?[t.curComponent.isLock?n("li",{on:{click:t.unlock}},[t._v("解锁")]):[n("li",{on:{click:t.copy}},[t._v("复制")]),n("li",{on:{click:t.paste}},[t._v("粘贴")]),n("li",{on:{click:t.cut}},[t._v("剪切")]),n("li",{on:{click:t.deleteComponent}},[t._v("删除")]),n("li",{on:{click:t.lock}},[t._v("锁定")]),n("li",{on:{click:t.topComponent}},[t._v("置顶")]),n("li",{on:{click:t.bottomComponent}},[t._v("置底")]),n("li",{on:{click:t.upComponent}},[t._v("上移")]),n("li",{on:{click:t.downComponent}},[t._v("下移")])]]:n("li",{on:{click:t.paste}},[t._v("粘贴")])],2)])},A=[],P={data:function(){return{copyData:null}},computed:Object(u["b"])(["menuTop","menuLeft","menuShow","curComponent"]),methods:{lock:function(){this.$store.commit("lock")},unlock:function(){this.$store.commit("unlock")},handleMouseUp:function(){this.$store.commit("setClickComponentStatus",!0)},cut:function(){this.$store.commit("cut")},copy:function(){this.$store.commit("copy")},paste:function(){this.$store.commit("paste",!0),this.$store.commit("recordSnapshot")},deleteComponent:function(){this.$store.commit("deleteComponent"),this.$store.commit("recordSnapshot")},upComponent:function(){this.$store.commit("upComponent"),this.$store.commit("recordSnapshot")},downComponent:function(){this.$store.commit("downComponent"),this.$store.commit("recordSnapshot")},topComponent:function(){this.$store.commit("topComponent"),this.$store.commit("recordSnapshot")},bottomComponent:function(){this.$store.commit("bottomComponent"),this.$store.commit("recordSnapshot")}}},V=P,U=(n("bbaa"),Object(M["a"])(V,R,A,!1,null,"698fde0c",null)),q=U.exports,T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mark-line"},t._l(t.lines,(function(e){return n("div",{directives:[{name:"show",rawName:"v-show",value:t.lineStatus[e]||!1,expression:"lineStatus[line] || false"}],key:e,ref:e,refInFor:!0,staticClass:"line",class:e.includes("x")?"xline":"yline"})})),0)},Y=[],X=(n("b64b"),{data:function(){return{lines:["xt","xc","xb","yl","yc","yr"],diff:3,lineStatus:{xt:!1,xc:!1,xb:!1,yl:!1,yc:!1,yr:!1}}},computed:Object(u["b"])(["curComponent","componentData"]),mounted:function(){var t=this;f["a"].$on("move",(function(e,n){t.showLine(e,n)})),f["a"].$on("unmove",(function(){t.hideLine()}))},methods:{hideLine:function(){var t=this;Object.keys(this.lineStatus).forEach((function(e){t.lineStatus[e]=!1}))},showLine:function(t,e){var n=this,a=this.$refs,o=this.componentData,i=Object(N["a"])(this.curComponent.style),r=i.width/2,l=i.height/2;this.hideLine(),o.forEach((function(o){if(o!=n.curComponent){var s=Object(N["a"])(o.style),c=s.top,u=s.left,d=s.bottom,p=s.right,m=s.width/2,h=s.height/2,f={top:[{isNearly:n.isNearly(i.top,c),lineNode:a.xt[0],line:"xt",dragShift:c,lineShift:c},{isNearly:n.isNearly(i.bottom,c),lineNode:a.xt[0],line:"xt",dragShift:c-i.height,lineShift:c},{isNearly:n.isNearly(i.top+l,c+h),lineNode:a.xc[0],line:"xc",dragShift:c+h-l,lineShift:c+h},{isNearly:n.isNearly(i.top,d),lineNode:a.xb[0],line:"xb",dragShift:d,lineShift:d},{isNearly:n.isNearly(i.bottom,d),lineNode:a.xb[0],line:"xb",dragShift:d-i.height,lineShift:d}],left:[{isNearly:n.isNearly(i.left,u),lineNode:a.yl[0],line:"yl",dragShift:u,lineShift:u},{isNearly:n.isNearly(i.right,u),lineNode:a.yl[0],line:"yl",dragShift:u-i.width,lineShift:u},{isNearly:n.isNearly(i.left+r,u+m),lineNode:a.yc[0],line:"yc",dragShift:u+m-r,lineShift:u+m},{isNearly:n.isNearly(i.left,p),lineNode:a.yr[0],line:"yr",dragShift:p,lineShift:p},{isNearly:n.isNearly(i.right,p),lineNode:a.yr[0],line:"yr",dragShift:p-i.width,lineShift:p}]},v=[],b=n.curComponent.style.rotate;Object.keys(f).forEach((function(t){f[t].forEach((function(e){e.isNearly&&(n.$store.commit("setShapeSingleStyle",{key:t,value:0!=b?n.translatecurComponentShift(t,e,i):e.dragShift}),e.lineNode.style[t]="".concat(e.lineShift,"px"),v.push(e.line))}))})),v.length&&n.chooseTheTureLine(v,t,e)}}))},translatecurComponentShift:function(t,e,n){var a=this.curComponent.style,o=a.width,i=a.height;return"top"==t?Math.round(e.dragShift-(i-n.height)/2):Math.round(e.dragShift-(o-n.width)/2)},chooseTheTureLine:function(t,e,n){n?t.includes("yr")?this.lineStatus.yr=!0:t.includes("yc")?this.lineStatus.yc=!0:t.includes("yl")&&(this.lineStatus.yl=!0):t.includes("yl")?this.lineStatus.yl=!0:t.includes("yc")?this.lineStatus.yc=!0:t.includes("yr")&&(this.lineStatus.yr=!0),e?t.includes("xb")?this.lineStatus.xb=!0:t.includes("xc")?this.lineStatus.xc=!0:t.includes("xt")&&(this.lineStatus.xt=!0):t.includes("xt")?this.lineStatus.xt=!0:t.includes("xc")?this.lineStatus.xc=!0:t.includes("xb")&&(this.lineStatus.xb=!0)},isNearly:function(t,e){return Math.abs(t-e)<=this.diff}}}),B=X,z=(n("9627"),Object(M["a"])(B,T,Y,!1,null,"444f1232",null)),G=z.exports,J=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"area",style:{left:t.start.x+"px",top:t.start.y+"px",width:t.width+"px",height:t.height+"px"}})},F=[],H={props:{start:{type:Object},width:{type:Number},height:{type:Number}}},K=H,W=(n("b602"),Object(M["a"])(K,J,F,!1,null,"62e7fab8",null)),Q=W.exports,Z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{staticClass:"grid",attrs:{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg"}},[n("defs",[n("pattern",{attrs:{id:"smallGrid",width:"7.236328125",height:"7.236328125",patternUnits:"userSpaceOnUse"}},[n("path",{attrs:{d:"M 7.236328125 0 L 0 0 0 7.236328125",fill:"none",stroke:"rgba(207, 207, 207, 0.3)","stroke-width":"1"}})]),n("pattern",{attrs:{id:"grid",width:"36.181640625",height:"36.181640625",patternUnits:"userSpaceOnUse"}},[n("rect",{attrs:{width:"36.181640625",height:"36.181640625",fill:"url(#smallGrid)"}}),n("path",{attrs:{d:"M 36.181640625 0 L 0 0 0 36.181640625",fill:"none",stroke:"rgba(186, 186, 186, 0.5)","stroke-width":"1"}})])]),n("rect",{attrs:{width:"100%",height:"100%",fill:"url(#grid)"}})])},tt=[],et=(n("b67e"),{}),nt=Object(M["a"])(et,Z,tt,!1,null,"50b842a8",null),at=nt.exports,ot={props:{isEdit:{type:Boolean,default:!0}},components:{Shape:I,ContextMenu:q,MarkLine:G,Area:Q,Grid:at},data:function(){return{editorX:0,editorY:0,start:{x:0,y:0},width:0,height:0,isShowArea:!1}},computed:Object(u["b"])(["componentData","curComponent","canvasStyleData","editor"]),mounted:function(){var t=this;this.$store.commit("getEditor"),f["a"].$on("hideArea",(function(){t.hideArea()}))},methods:{handleMouseDown:function(t){var e=this;(!this.curComponent||"v-text"!=this.curComponent.component&&"rect-shape"!=this.curComponent.component)&&t.preventDefault(),this.hideArea();var n=this.editor.getBoundingClientRect();this.editorX=n.x,this.editorY=n.y;var a=t.clientX,o=t.clientY;this.start.x=a-this.editorX,this.start.y=o-this.editorY,this.isShowArea=!0;var i=function(t){e.width=Math.abs(t.clientX-a),e.height=Math.abs(t.clientY-o),t.clientX<a&&(e.start.x=t.clientX-e.editorX),t.clientY<o&&(e.start.y=t.clientY-e.editorY)},r=function t(n){document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",t),n.clientX!=a||n.clientY!=o?e.createGroup():e.hideArea()};document.addEventListener("mousemove",i),document.addEventListener("mouseup",r)},hideArea:function(){this.isShowArea=0,this.width=0,this.height=0,this.$store.commit("setAreaData",{style:{left:0,top:0,width:0,height:0},components:[]})},createGroup:function(){var t=this,e=this.getSelectArea();if(e.length<=1)this.hideArea();else{var n=1/0,a=1/0,o=-1/0,i=-1/0;e.forEach((function(e){var r={};"Group"==e.component?e.propValue.forEach((function(e){var l=Object(L["a"])("#component".concat(e.id)).getBoundingClientRect();r.left=l.left-t.editorX,r.top=l.top-t.editorY,r.right=l.right-t.editorX,r.bottom=l.bottom-t.editorY,r.left<a&&(a=r.left),r.top<n&&(n=r.top),r.right>o&&(o=r.right),r.bottom>i&&(i=r.bottom)})):r=Object(N["a"])(e.style),r.left<a&&(a=r.left),r.top<n&&(n=r.top),r.right>o&&(o=r.right),r.bottom>i&&(i=r.bottom)})),this.start.x=a,this.start.y=n,this.width=o-a,this.height=i-n,this.$store.commit("setAreaData",{style:{left:a,top:n,width:this.width,height:this.height},components:e})}},getSelectArea:function(){var t=this,e=[],n=this.start,a=n.x,o=n.y;return this.componentData.forEach((function(n){if(!n.isLock){var i=Object(N["a"])(n.style),r=i.left,l=i.top,s=i.width,c=i.height;a<=r&&o<=l&&r+s<=a+t.width&&l+c<=o+t.height&&e.push(n)}})),e},handleContextMenu:function(t){t.stopPropagation(),t.preventDefault();var e=t.target,n=t.offsetY,a=t.offsetX;while(e instanceof SVGElement)e=e.parentNode;while(!e.className.includes("editor"))a+=e.offsetLeft,n+=e.offsetTop,e=e.parentNode;this.$store.commit("showContextMenu",{top:n,left:a})},getShapeStyle:function(t,e){var n={};if(["width","height","top","left","rotate"].forEach((function(e){"rotate"!=e?n[e]=t[e]+"px":n.transform="rotate("+t[e]+"deg)"})),!e||!e.trim())return n;try{var a=JSON.parse(e);return"object"===Object(c["a"])(a)?Object(s["a"])(Object(s["a"])({},n),a):n}catch(o){return console.log(o),n}},getComponentStyle:function(t){return Object(N["b"])(t,["top","left","width","height","rotate"])},handleInput:function(t,e){this.$store.commit("setShapeStyle",{height:this.getTextareaHeight(t,e)})},getTextareaHeight:function(t,e){var n=t.style,a=n.lineHeight,o=n.fontSize,i=n.height;""===a&&(a=1.5);var r=(e.split("<br>").length-1)*a*o;return i>r?i:r}}},it=ot,rt=(n("856c"),Object(M["a"])(it,r,l,!1,null,"7668fa61",null)),lt=rt.exports,st=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"component-list",on:{dragstart:t.handleDragStart}},t._l(t.componentList,(function(e,a){return n("div",{key:a,staticClass:"list",attrs:{draggable:"","data-index":a}},[n("span",{staticClass:"iconfont",class:"icon-"+e.icon}),n("span",[t._v(t._s(e.label))])])})),0)},ct=[],ut=n("4e67"),dt={data:function(){return{componentList:ut["default"]}},methods:{handleDragStart:function(t){t.dataTransfer.setData("index",t.target.dataset.index)}}},pt=dt,mt=(n("1ac8"),Object(M["a"])(pt,st,ct,!1,null,"443538f1",null)),ht=mt.exports,ft=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"attr-list"},[n("el-form",[t._l(t.styleKeys,(function(e,a){var o=e.key,i=e.label;return n("el-form-item",{key:a,attrs:{label:i}},["borderColor"==o||"color"==o||"backgroundColor"==o?n("el-color-picker",{model:{value:t.curComponent.style[o],callback:function(e){t.$set(t.curComponent.style,o,e)},expression:"curComponent.style[key]"}}):t.selectKey.includes(o)?n("el-select",{model:{value:t.curComponent.style[o],callback:function(e){t.$set(t.curComponent.style,o,e)},expression:"curComponent.style[key]"}},["textAlign"==o?t._l(t.textAlignOptions,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})):"borderStyle"==o?t._l(t.borderStyleOptions,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})):t._l(t.verticalAlignOptions,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],2):n("el-input",{attrs:{type:"number"},model:{value:t.curComponent.style[o],callback:function(e){t.$set(t.curComponent.style,o,t._n(e))},expression:"curComponent.style[key]"}})],1)})),t.curComponent&&!t.excludes.includes(t.curComponent.component)?n("el-form-item",{attrs:{label:"内容"}},[n("i",{staticClass:"el-icon-full-screen icon-magnify",on:{click:t.magnifyContent}}),n("el-input",{attrs:{type:"textarea"},model:{value:t.curComponent.propValue,callback:function(e){t.$set(t.curComponent,"propValue",e)},expression:"curComponent.propValue"}})],1):t._e(),t.curComponent?n("el-form-item",{attrs:{label:"拓展样式"}},[n("i",{staticClass:"el-icon-full-screen icon-magnify",on:{click:t.magnifyExpandStyle}}),n("el-input",{attrs:{type:"textarea"},model:{value:t.curComponent.expandStyle,callback:function(e){t.$set(t.curComponent,"expandStyle",e)},expression:"curComponent.expandStyle"}})],1):t._e()],2),n("el-dialog",{attrs:{title:"内容",visible:t.contentMagnifyVisible,"close-on-click-modal":!1,width:"60%"},on:{"update:visible":function(e){t.contentMagnifyVisible=e}}},[n("el-input",{attrs:{type:"textarea",autosize:{minRows:20}},model:{value:t.curComponent.propValue,callback:function(e){t.$set(t.curComponent,"propValue",e)},expression:"curComponent.propValue"}})],1),n("el-dialog",{attrs:{title:"拓展样式",visible:t.expandStyleMagnifyVisible,"close-on-click-modal":!1,width:"60%"},on:{"update:visible":function(e){t.expandStyleMagnifyVisible=e}}},[n("el-input",{attrs:{type:"textarea",autosize:{minRows:20},placeholder:"严格JSON格式"},model:{value:t.curComponent.expandStyle,callback:function(e){t.$set(t.curComponent,"expandStyle",e)},expression:"curComponent.expandStyle"}})],1)],1)},vt=[],bt=(n("4de4"),[{key:"left",label:"x 坐标"},{key:"top",label:"y 坐标"},{key:"width",label:"宽"},{key:"height",label:"高"},{key:"color",label:"颜色"},{key:"backgroundColor",label:"背景色"},{key:"borderWidth",label:"边框宽度"},{key:"borderStyle",label:"边框风格"},{key:"borderColor",label:"边框颜色"},{key:"borderRadius",label:"边框半径"},{key:"fontSize",label:"字体大小"},{key:"fontWeight",label:"字体粗细"},{key:"lineHeight",label:"行高"},{key:"letterSpacing",label:"字间距"},{key:"textAlign",label:"左右对齐"},{key:"verticalAlign",label:"上下对齐"},{key:"opacity",label:"透明度"}]),gt={data:function(){return{excludes:["Picture","Group"],textAlignOptions:[{label:"左对齐",value:"left"},{label:"居中",value:"center"},{label:"右对齐",value:"right"}],borderStyleOptions:[{label:"实线",value:"solid"},{label:"虚线",value:"dashed"}],verticalAlignOptions:[{label:"上对齐",value:"top"},{label:"居中对齐",value:"middle"},{label:"下对齐",value:"bottom"}],selectKey:["textAlign","borderStyle","verticalAlign"],attrNameData:bt,contentMagnifyVisible:!1,expandStyleMagnifyVisible:!1}},computed:{styleKeys:function(){if(this.$store.state.curComponent){var t=Object.keys(this.$store.state.curComponent.style);return this.attrNameData.filter((function(e){return t.includes(e.key)}))}return[]},curComponent:function(){return this.$store.state.curComponent}},methods:{magnifyContent:function(){this.contentMagnifyVisible=!0},magnifyExpandStyle:function(){this.expandStyleMagnifyVisible=!0}}},yt=gt,xt=(n("2922"),Object(M["a"])(yt,ft,vt,!1,null,"348c902c",null)),wt=xt.exports,St=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"animation-list"},[n("div",{staticClass:"div-animation"},[n("el-button",{on:{click:function(e){t.isShowAnimation=!0}}},[t._v("添加动画")]),n("el-button",{on:{click:t.previewAnimate}},[t._v("预览动画")]),n("div",t._l(t.curComponent.animations,(function(e,a){return n("el-tag",{key:a,attrs:{closable:""},on:{close:function(e){return t.removeAnimation(a)}}},[t._v(" "+t._s(e.label)+" ")])})),1)],1),n("Modal",{model:{value:t.isShowAnimation,callback:function(e){t.isShowAnimation=e},expression:"isShowAnimation"}},[n("el-tabs",{model:{value:t.animationActiveName,callback:function(e){t.animationActiveName=e},expression:"animationActiveName"}},t._l(t.animationClassData,(function(e){return n("el-tab-pane",{key:e.label,attrs:{label:e.label,name:e.label}},[n("el-scrollbar",{staticClass:"animate-container"},t._l(e.children,(function(e,a){return n("div",{key:a,staticClass:"animate",on:{mouseover:function(n){t.hoverPreviewAnimate=e.value},click:function(n){return t.addAnimation(e)}}},[n("div",{class:[t.hoverPreviewAnimate===e.value&&e.value+" animated"]},[t._v(" "+t._s(e.label)+" ")])])})),0)],1)})),1)],1)],1)},Ct=[],Ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.show?n("div",{staticClass:"modal-bg",on:{click:t.hide}},[n("div",{staticClass:"fadeInLeft animated modal",on:{click:t.stopPropagation}},[t._t("default")],2)]):t._e()},kt=[],Dt={model:{prop:"show",event:"change"},props:{show:{type:Boolean,default:!1}},methods:{hide:function(){this.$emit("change")},stopPropagation:function(t){t.stopPropagation()}}},jt=Dt,$t=(n("912e"),Object(M["a"])(jt,Ot,kt,!1,null,"d422d568",null)),_t=$t.exports,Mt=[{label:"进入",children:[{label:"渐显",value:"fadeIn"},{label:"向右进入",value:"fadeInLeft"},{label:"向左进入",value:"fadeInRight"},{label:"向上进入",value:"fadeInUp"},{label:"向下进入",value:"fadeInDown"},{label:"向右长距进入",value:"fadeInLeftBig"},{label:"向左长距进入",value:"fadeInRightBig"},{label:"向上长距进入",value:"fadeInUpBig"},{label:"向下长距进入",value:"fadeInDownBig"},{label:"旋转进入",value:"rotateIn"},{label:"左顺时针旋转",value:"rotateInDownLeft"},{label:"右逆时针旋转",value:"rotateInDownRight"},{label:"左逆时针旋转",value:"rotateInUpLeft"},{label:"右逆时针旋转",value:"rotateInUpRight"},{label:"弹入",value:"bounceIn"},{label:"向右弹入",value:"bounceInLeft"},{label:"向左弹入",value:"bounceInRight"},{label:"向上弹入",value:"bounceInUp"},{label:"向下弹入",value:"bounceInDown"},{label:"光速从右进入",value:"lightSpeedInRight"},{label:"光速从左进入",value:"lightSpeedInLeft"},{label:"光速从右退出",value:"lightSpeedOutRight"},{label:"光速从左退出",value:"lightSpeedOutLeft"},{label:"Y轴旋转",value:"flip"},{label:"中心X轴旋转",value:"flipInX"},{label:"中心Y轴旋转",value:"flipInY"},{label:"左长半径旋转",value:"rollIn"},{label:"由小变大进入",value:"zoomIn"},{label:"左变大进入",value:"zoomInLeft"},{label:"右变大进入",value:"zoomInRight"},{label:"向上变大进入",value:"zoomInUp"},{label:"向下变大进入",value:"zoomInDown"},{label:"向右滑动展开",value:"slideInLeft"},{label:"向左滑动展开",value:"slideInRight"},{label:"向上滑动展开",value:"slideInUp"},{label:"向下滑动展开",value:"slideInDown"}]},{label:"强调",children:[{label:"弹跳",value:"bounce"},{label:"闪烁",value:"flash"},{label:"放大缩小",value:"pulse"},{label:"放大缩小弹簧",value:"rubberBand"},{label:"左右晃动",value:"headShake"},{label:"左右扇形摇摆",value:"swing"},{label:"放大晃动缩小",value:"tada"},{label:"扇形摇摆",value:"wobble"},{label:"左右上下晃动",value:"jello"},{label:"Y轴旋转",value:"flip"}]},{label:"退出",children:[{label:"渐隐",value:"fadeOut"},{label:"向左退出",value:"fadeOutLeft"},{label:"向右退出",value:"fadeOutRight"},{label:"向上退出",value:"fadeOutUp"},{label:"向下退出",value:"fadeOutDown"},{label:"向左长距退出",value:"fadeOutLeftBig"},{label:"向右长距退出",value:"fadeOutRightBig"},{label:"向上长距退出",value:"fadeOutUpBig"},{label:"向下长距退出",value:"fadeOutDownBig"},{label:"旋转退出",value:"rotateOut"},{label:"左顺时针旋转",value:"rotateOutDownLeft"},{label:"右逆时针旋转",value:"rotateOutDownRight"},{label:"左逆时针旋转",value:"rotateOutUpLeft"},{label:"右逆时针旋转",value:"rotateOutUpRight"},{label:"弹出",value:"bounceOut"},{label:"向左弹出",value:"bounceOutLeft"},{label:"向右弹出",value:"bounceOutRight"},{label:"向上弹出",value:"bounceOutUp"},{label:"向下弹出",value:"bounceOutDown"},{label:"中心X轴旋转",value:"flipOutX"},{label:"中心Y轴旋转",value:"flipOutY"},{label:"左长半径旋转",value:"rollOut"},{label:"由小变大退出",value:"zoomOut"},{label:"左变大退出",value:"zoomOutLeft"},{label:"右变大退出",value:"zoomOutRight"},{label:"向上变大退出",value:"zoomOutUp"},{label:"向下变大退出",value:"zoomOutDown"},{label:"向左滑动收起",value:"slideOutLeft"},{label:"向右滑动收起",value:"slideOutRight"},{label:"向上滑动收起",value:"slideOutUp"},{label:"向下滑动收起",value:"slideOutDown"}]}],Et={components:{Modal:_t},data:function(){return{isShowAnimation:!1,hoverPreviewAnimate:"",animationActiveName:"进入",animationClassData:Mt,showAnimatePanel:!1}},computed:Object(u["b"])(["curComponent"]),methods:{addAnimation:function(t){this.$store.commit("addAnimation",t),this.isShowAnimation=!1},previewAnimate:function(){f["a"].$emit("runAnimation")},removeAnimation:function(t){this.$store.commit("removeAnimation",t)}}},It=Et,Nt=(n("e285"),Object(M["a"])(It,St,Ct,!1,null,null,null)),Lt=Nt.exports,Rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"event-list"},[n("div",{staticClass:"div-events"},[n("el-button",{on:{click:function(e){t.isShowEvent=!0}}},[t._v("添加事件")]),n("div",t._l(Object.keys(t.curComponent.events),(function(e){return n("el-tag",{key:e,attrs:{closable:""},on:{close:function(n){return t.removeEvent(e)}}},[t._v(" "+t._s(e)+" ")])})),1)],1),n("Modal",{model:{value:t.isShowEvent,callback:function(e){t.isShowEvent=e},expression:"isShowEvent"}},[n("el-tabs",{model:{value:t.eventActiveName,callback:function(e){t.eventActiveName=e},expression:"eventActiveName"}},t._l(t.eventList,(function(e){return n("el-tab-pane",{key:e.key,staticStyle:{padding:"0 20px"},attrs:{label:e.label,name:e.key}},["redirect"==e.key?n("el-input",{attrs:{type:"textarea",placeholder:"请输入完整的 URL"},nativeOn:{keydown:function(t){t.stopPropagation()}},model:{value:e.param,callback:function(n){t.$set(e,"param",n)},expression:"item.param"}}):t._e(),"alert"==e.key?n("el-input",{attrs:{type:"textarea",placeholder:"请输入要 alert 的内容"},nativeOn:{keydown:function(t){t.stopPropagation()}},model:{value:e.param,callback:function(n){t.$set(e,"param",n)},expression:"item.param"}}):t._e(),n("el-button",{staticStyle:{"margin-top":"20px"},on:{click:function(n){return t.addEvent(e.key,e.param)}}},[t._v("确定")])],1)})),1)],1)],1)},At=[],Pt=n("b4d8"),Vt={components:{Modal:_t},data:function(){return{isShowEvent:!1,eventURL:"",eventActiveName:"redirect",eventList:Pt["a"]}},computed:Object(u["b"])(["curComponent"]),methods:{addEvent:function(t,e){this.isShowEvent=!1,this.$store.commit("addEvent",{event:t,param:e})},removeEvent:function(t){this.$store.commit("removeEvent",t)}}},Ut=Vt,qt=(n("d1d1"),Object(M["a"])(Ut,Rt,At,!1,null,"105cebda",null)),Tt=qt.exports,Yt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"toolbar"},[n("el-button",{on:{click:t.undo}},[t._v("撤消")]),n("el-button",{on:{click:t.redo}},[t._v("重做")]),n("label",{staticClass:"insert",attrs:{for:"input"}},[t._v("插入图片")]),n("input",{attrs:{type:"file",id:"input",hidden:""},on:{change:t.handleFileChange}}),n("el-button",{staticStyle:{"margin-left":"10px"},on:{click:t.preview}},[t._v("预览")]),n("el-button",{on:{click:t.save}},[t._v("保存")]),n("el-button",{on:{click:t.clearCanvas}},[t._v("清空画布")]),n("el-button",{attrs:{disabled:!t.areaData.components.length},on:{click:t.compose}},[t._v("组合")]),n("el-button",{attrs:{disabled:!t.curComponent||t.curComponent.isLock||"Group"!=t.curComponent.component},on:{click:t.decompose}},[t._v("拆分")]),n("el-button",{attrs:{disabled:!t.curComponent||t.curComponent.isLock},on:{click:t.lock}},[t._v("锁定")]),n("el-button",{attrs:{disabled:!t.curComponent||!t.curComponent.isLock},on:{click:t.unlock}},[t._v("解锁")]),n("div",{staticClass:"canvas-config"},[n("span",[t._v("布局")]),n("div",{staticStyle:{display:"inline-block",width:"85px","margin-left":"10px"}},[n("el-select",{attrs:{placeholder:"请选择"},on:{change:t.layoutModeChange},model:{value:t.canvasStyleData.layoutMode,callback:function(e){t.$set(t.canvasStyleData,"layoutMode",e)},expression:"canvasStyleData.layoutMode"}},t._l(t.layouts,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)]),"1"===t.canvasStyleData.layoutMode?n("div",{staticClass:"canvas-config"},[n("span",[t._v("画布大小")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.canvasStyleData.width,expression:"canvasStyleData.width"}],domProps:{value:t.canvasStyleData.width},on:{input:function(e){e.target.composing||t.$set(t.canvasStyleData,"width",e.target.value)}}}),n("span",[t._v("*")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.canvasStyleData.height,expression:"canvasStyleData.height"}],domProps:{value:t.canvasStyleData.height},on:{input:function(e){e.target.composing||t.$set(t.canvasStyleData,"height",e.target.value)}}})]):t._e(),"1"===t.canvasStyleData.layoutMode?n("div",{staticClass:"canvas-config"},[n("span",[t._v("画布比例")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.canvasStyleData.scale,expression:"canvasStyleData.scale"}],attrs:{type:"number"},domProps:{value:t.canvasStyleData.scale},on:{input:function(e){e.target.composing||t.$set(t.canvasStyleData,"scale",e.target.value)}}}),t._v(" % ")]):t._e(),n("span",{staticClass:"line"}),n("el-button",{attrs:{size:"mini",type:"text"},on:{click:t.update}},[t._v("保存编辑")]),n("span",{staticClass:"line"}),n("el-popover",{attrs:{placement:"bottom",width:"200",trigger:"hover"}},[n("div",[n("div",[n("span",[t._v("标题："+t._s(t.pageInfo.title))]),n("span")]),n("div",[n("span",[t._v("创建人："+t._s(t.pageInfo.uname))]),n("span")])]),n("i",{staticClass:"el-icon-info icon-info",attrs:{slot:"reference"},slot:"reference"})]),n("span",{staticClass:"line"}),n("User",{staticClass:"user-component"})],1),n("Preview",{on:{change:t.handlePreviewChange},model:{value:t.isShowPreview,callback:function(e){t.isShowPreview=e},expression:"isShowPreview"}})],1)},Xt=[],Bt=n("ac24"),zt=n("eae4"),Gt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.show?n("div",{staticClass:"bg"},[n("el-button",{staticClass:"close",on:{click:t.close}},[t._v("关闭")]),n("div",{staticClass:"canvas-container"},[n("div",{staticClass:"canvas",style:"1"===t.canvasStyleData.layoutMode?{width:t.canvasStyleData.width+"px",height:t.canvasStyleData.height+"px"}:{width:"80%",height:"auto"}},t._l(t.componentData,(function(t,e){return n("ComponentWrapper",{key:e,attrs:{config:t}})})),1)])],1):t._e()},Jt=[],Ft=n("df6e"),Ht={model:{prop:"show",event:"change"},props:{show:{type:Boolean,default:!1}},components:{ComponentWrapper:Ft["a"]},computed:Object(u["b"])(["componentData","canvasStyleData"]),methods:{getStyle:N["b"],close:function(){this.$emit("change",!1)}}},Kt=Ht,Wt=(n("2eee"),Object(M["a"])(Kt,Gt,Jt,!1,null,"2a21f990",null)),Qt=Wt.exports,Zt=n("7088"),te=n("365c"),ee={components:{Preview:Qt,User:Zt["a"]},props:{pageInfo:{type:Object}},data:function(){return{isShowPreview:!1,needToChange:["top","left","width","height","fontSize","borderWidth"],timer:null,layouts:[{value:"1",label:"固定"},{value:"2",label:"auto"}]}},computed:Object(u["b"])(["componentData","canvasStyleData","areaData","curComponent"]),created:function(){f["a"].$on("preview",this.preview),f["a"].$on("save",this.save),f["a"].$on("clearCanvas",this.clearCanvas)},methods:{lock:function(){this.$store.commit("lock")},unlock:function(){this.$store.commit("unlock")},compose:function(){this.$store.commit("compose"),this.$store.commit("recordSnapshot")},decompose:function(){this.$store.commit("decompose"),this.$store.commit("recordSnapshot")},undo:function(){this.$store.commit("undo")},redo:function(){this.$store.commit("redo")},handleFileChange:function(t){var e=this,n=t.target.files[0];if(n.type.includes("image")){var a=new FileReader;a.onload=function(t){var n=t.target.result,a=new Image;a.onload=function(){e.$store.commit("addComponent",{component:Object(s["a"])(Object(s["a"])({},ut["commonAttr"]),{},{id:Object(Bt["a"])(),component:"Picture",label:"图片",icon:"",propValue:n,style:Object(s["a"])(Object(s["a"])({},ut["commonStyle"]),{},{top:0,left:0,width:a.width,height:a.height})})}),e.$store.commit("recordSnapshot"),document.querySelector("#input").setAttribute("type","text"),document.querySelector("#input").setAttribute("type","file")},a.src=n},a.readAsDataURL(n)}else Object(zt["a"])("只能插入图片")},preview:function(){this.isShowPreview=!0,this.$store.commit("setEditMode","preview")},save:function(){localStorage.setItem("canvasData",JSON.stringify(this.componentData)),localStorage.setItem("canvasStyle",JSON.stringify(this.canvasStyleData)),this.$message.success("保存成功")},clearCanvas:function(){this.$store.commit("setCurComponent",{component:null,index:null}),this.$store.commit("setComponentData",[]),this.$store.commit("recordSnapshot")},handlePreviewChange:function(){this.$store.commit("setEditMode","edit")},layoutModeChange:function(t){console.log("layoutModeChange",t)},update:function(){var t=this;this.$confirm("确定保存么","提示",{type:"info",closeOnClickModal:!1,callback:function(e){return Object(i["a"])(regeneratorRuntime.mark((function n(){var a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if("confirm"!==e){n.next=6;break}return n.next=3,Object(te["g"])({id:t.pageInfo._id,content:JSON.stringify({canvasStyle:t.canvasStyleData,canvasData:t.componentData})});case 3:a=n.sent,o=a.data,200===o.code&&Object(zt["a"])("保存成功","success");case 6:case"end":return n.stop()}}),n)})))()}})}}},ne=ee,ae=(n("399f"),Object(M["a"])(ne,Yt,Xt,!1,null,"2a0ce0fa",null)),oe=ae.exports,ie=n("2c7d"),re={components:{Editor:lt,ComponentList:ht,AttrList:wt,AnimationList:Lt,EventList:Tt,Toolbar:oe},data:function(){return{activeName:"attr",reSelectAnimateIndex:void 0,pageInfo:{title:"1",uname:""}}},computed:Object(u["b"])(["componentData","curComponent","isClickComponent","canvasStyleData","editor"]),created:function(){this.initStore(),this.initPage(),Object(ie["b"])()},methods:{initStore:function(){this.$store.commit("setCanvasStyle",{layoutMode:"1",width:1200,height:740,scale:100}),this.$store.commit("setComponentData",[])},restore:function(){localStorage.getItem("canvasStyle")&&this.$store.commit("setCanvasStyle",JSON.parse(localStorage.getItem("canvasStyle"))),localStorage.getItem("canvasData")&&this.$store.commit("setComponentData",this.resetID(JSON.parse(localStorage.getItem("canvasData"))))},resetID:function(t){return t.forEach((function(t){t.id=Object(Bt["a"])()})),t},handleDrop:function(t){t.preventDefault(),t.stopPropagation();var e=t.dataTransfer.getData("index"),n=this.editor.getBoundingClientRect();if(e){var a=Object(L["b"])(ut["default"][e]);a.style.top=t.clientY-n.y,a.style.left=t.clientX-n.x,a.id=Object(Bt["a"])(),this.$store.commit("addComponent",{component:a}),this.$store.commit("recordSnapshot")}},handleDragOver:function(t){t.preventDefault(),t.dataTransfer.dropEffect="copy"},handleMouseDown:function(){this.$store.commit("setClickComponentStatus",!1)},deselectCurComponent:function(t){this.isClickComponent||this.$store.commit("setCurComponent",{component:null,index:null}),2!=t.button&&this.$store.commit("hideContextMenu")},initPage:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n,a,o,i,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t,a=t.$router.history.current.params.id,!a){e.next=8;break}return e.next=5,Object(te["d"])(a);case 5:o=e.sent,i=o.data,200===i.code&&(t.pageInfo={title:i.data.title,uname:i.data.uid.name,_id:i.data._id},i.data.content&&(r=JSON.parse(i.data.content),t.$store.commit("setCanvasStyle",r.canvasStyle),t.$store.commit("setComponentData",t.resetID(r.canvasData))),(localStorage.getItem("canvasData")||localStorage.getItem("canvasStyle"))&&t.$confirm("检测到本地缓存，是否使用","提示",{type:"info",closeOnClickModal:!1,callback:function(t){"confirm"===t&&n.restore(),localStorage.removeItem("canvasStyle"),localStorage.removeItem("canvasData")}}));case 8:case"end":return e.stop()}}),e)})))()}}},le=re,se=(n("21bb"),Object(M["a"])(le,a,o,!1,null,null,null));e["default"]=se.exports},bbaa:function(t,e,n){"use strict";n("cf30")},bcbb:function(t,e,n){},c5c4:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var a=n("1da1");n("96cf"),n("d3b7");function o(t){return i.apply(this,arguments)}function i(){return i=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n,a,o,i,r=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=r.length>1&&void 0!==r[1]?r[1]:[],a=function(t){return new Promise((function(n){e.classList.add(t.value,"animated");var a=function a(){e.removeEventListener("animationend",a),e.removeEventListener("animationcancel",a),e.classList.remove(t.value,"animated"),n()};e.addEventListener("animationend",a),e.addEventListener("animationcancel",a)}))},o=0,i=n.length;case 3:if(!(o<i)){t.next=9;break}return t.next=6,a(n[o]);case 6:o++,t.next=3;break;case 9:case"end":return t.stop()}}),t)}))),i.apply(this,arguments)}},c97d:function(t,e,n){},cf30:function(t,e,n){},d0e4:function(t,e,n){"use strict";n("c97d")},d1d1:function(t,e,n){"use strict";n("eff4")},d784:function(t,e,n){"use strict";n("ac1f");var a=n("6eeb"),o=n("9263"),i=n("d039"),r=n("b622"),l=n("9112"),s=r("species"),c=RegExp.prototype;t.exports=function(t,e,n,u){var d=r(t),p=!i((function(){var e={};return e[d]=function(){return 7},7!=""[t](e)})),m=p&&!i((function(){var e=!1,n=/a/;return"split"===t&&(n={},n.constructor={},n.constructor[s]=function(){return n},n.flags="",n[d]=/./[d]),n.exec=function(){return e=!0,null},n[d](""),!e}));if(!p||!m||n){var h=/./[d],f=e(d,""[t],(function(t,e,n,a,i){var r=e.exec;return r===o||r===c.exec?p&&!i?{done:!0,value:h.call(e,n,a)}:{done:!0,value:t.call(n,e,a)}:{done:!1}}));a(String.prototype,t,f[0]),a(c,d,f[1])}u&&l(c[d],"sham",!0)}},df6e:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{on:{click:t.handleClick}},[n(t.config.component,{tag:"component",staticClass:"component",style:t.getComponentStyle(t.config.style,t.config.expandStyle),attrs:{propValue:t.config.propValue,element:t.config}})],1)},o=[],i=n("5530"),r=n("53ca"),l=(n("498a"),n("159b"),n("b64b"),n("a7f7")),s=n("c5c4"),c=n("b4d8"),u={props:{config:{type:Object,require:!0}},mounted:function(){Object(s["a"])(this.$el,this.config.animations)},mixins:[c["b"]],methods:{getComponentStyle:function(t,e){var n=Object(l["b"])(t);if(!e||!e.trim())return n;try{var a=JSON.parse(e);return"object"===Object(r["a"])(a)?Object(i["a"])(Object(i["a"])({},n),a):n}catch(o){return console.log(o),n}},handleClick:function(){var t=this,e=this.config.events;Object.keys(e).forEach((function(n){t[n](e[n])}))}}},d=u,p=(n("998a"),n("2877")),m=Object(p["a"])(d,a,o,!1,null,"c83453c4",null);e["a"]=m.exports},e285:function(t,e,n){"use strict";n("ee2e")},ee2e:function(t,e,n){},eff4:function(t,e,n){},fce3:function(t,e,n){var a=n("d039");t.exports=a((function(){var t=RegExp(".","string".charAt(0));return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)}))},fcf2:function(t,e,n){}}]);
//# sourceMappingURL=chunk-6b6e1dce.1e0c4f1b.js.map